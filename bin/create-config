#!/usr/bin/env python3

import argparse
import sys

from commons_boundaries.lib import proj4_from_shp, encoding_from_shp
from commons_boundaries.boundary_config import BoundaryConfig
from pathlib import Path

parser = argparse.ArgumentParser(
    description='Create a skeleton config entry in boundary-config.json')

parser.add_argument('source', metavar='SOURCE-SHAPEFILE-PATH')
parser.add_argument('boundary', metavar='NAME-OF_BOUNDARY')

args = parser.parse_args()

boundary_path = Path('boundaries') / 'build' / args.boundary
source_path = Path(args.source)
config_path = Path('boundaries') / 'boundary-config'

try:
    boundary_path = Path('./boundaries/build') / Path(args.boundary)
    boundary_path.mkdir()
except FileExistsError as e:
    sys.exit('{} already exists. Please pick a new name'.format(args.boundary))
